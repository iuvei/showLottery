<?php
 namespace Fuzhi\Logic; use Think\Model; class BaseLogic extends Model{ public function __construct($name = '', $tablePrefix = '', $connection = '') { $this->tablePrefix = C('DB_PREFIX') . 'document_'; parent::__construct($name, $tablePrefix, $connection); } public function detail($id){ $data = $this->field(true)->find($id); if(!$data){ $this->error = '获取详细信息出错！'; return false; } return $data; } public function lists($ids){ $map = array(); if(1 === count($ids)){ $map['id'] = $ids[0]; } else { $map['id'] = array('in', $ids); } $data = $this->field(true)->where($map)->select(); $list = array(); foreach ($data as $value) { $list[$value['id']] = $value; } return $list; } } 